(window.webPackBridgeJsonp=window.webPackBridgeJsonp||[]).push([[16],{cf694d8109b055738d55:function(e,n,t){"use strict";t.d(n,"a",(function(){return h}));var a=t("98bae3dbabd51089d613"),i=t("56e93fab5efcffbf24fb"),r=t("e88a8106e72c3f2e7fd4"),l=t("2cb027059b5fbe2cc8a6"),o=t("16a3147416a9f310a682"),s=t("640a68d4e52093ac8444"),g=t("6871d1ea20c032a12e30"),d=t("06c58f420a0677aad466"),c=t("d3bb8f02f954659262db"),b=t("604f694397cd1f47d3c5"),u={allowBroadcastSchedulingPolicy:"allowBroadcastSchedulingPolicy",allowChannelMeetingSchedulingPolicy:"allowChannelMeetingSchedulingPolicy",allowEngagementReportPolicy:"allowEngagementReportPolicy",allowFluidCollaboratePolicy:"allowFluidCollaboratePolicy",allowMeetingRegistrationPolicy:"allowMeetingRegistrationPolicy",allowPrivateMeetingSchedulingPolicy:"allowPrivateMeetingSchedulingPolicy",calendarAgendaPagePollingInterval:"calendarAgendaPagePollingInterval",calendarEventsPollIntervalInMs:"calendarEventsPollIntervalInMs",calendarRESTEnabledAPIs:"calendarRESTEnabledAPIs",debounceSchedulingFormPeoplePickerGuestSearchinMillis:"debounceSchedulingFormPeoplePickerGuestSearchinMillis",disableCalendarFeaturesInMultiwindow:"disableCalendarFeaturesInMultiwindow",disableFormOptimization:"disableFormOptimization",enableAllowFluidCollaboratePolicyBypass:"enableAllowFluidCollaboratePolicyBypass",enableAppsGalleryinMeetingChat:"enableAppsGalleryinMeetingChat",enableAutoEnableFluidWithAttendee:"enableAutoEnableFluidWithAttendee",enableBIMCalendarSurface:"enableBIMCalendarSurface",enableBypassingEngagementReportPolicy:"enableBypassingEngagementReportPolicy",enableCalendarAgendaView:"enableCalendarAgendaView",enableCalendarAttachments:"enableCalendarAttachments",enableCalendarBIMSpecificOperations:"enableCalendarBIMSpecificOperations",enableCalendarCategories:"enableCalendarCategories",enableCalendarCopyLink:"enableCalendarCopyLink",enableCalendarDialogBridge:"enableCalendarDialogBridge",enableCalendarEventGroupChiclet:"enableCalendarEventGroupChiclet",enableCalendarEventsBackgroundSync:"enableCalendarEventsBackgroundSync",enableCalendarEventsPrefetchPrevNextWeek:"enableCalendarEventsPrefetchPrevNextWeek",enableCalendarExtensibilityTabs:"enableCalendarExtensibilityTabs",enableCalendarOnlineOfflineMeeting:"enableCalendarOnlineOfflineMeeting",enableCalendarOnlineOfflineChannelMeeting:"enableCalendarOnlineOfflineChannelMeeting",enableCalendarJoinButtonWithIcon:"enableCalendarJoinButtonWithIcon",enableCalendarNavBarNavigationIcons:"enableCalendarNavBarNavigationIcons",enableCalendarNavBarViewModeSelector:"enableCalendarNavBarViewModeSelector",enableCalendarNstarExtensibilityTabs:"enableCalendarNstarExtensibilityTabs",enableCalendarSchedulingFormNewPeoplePill:"enableCalendarSchedulingFormNewPeoplePill",enableCalendarSchedulingFormPreReleaseFeatures:"enableCalendarSchedulingFormPreReleaseFeatures",enableCalendarShareLinkDialog:"enableCalendarShareLinkDialog",enableCalendarShareLinkDialogPostMeetingCreation:"enableCalendarShareLinkDialogPostMeetingCreation",enableCalendarSyncEngine:"enableCalendarSyncEngine",enableMeetingsCTAImprovementsV1:"enableMeetingsCTAImprovementsV1",enableMeetingsCTAImprovementsV2:"enableMeetingsCTAImprovementsV2",enableCalendarTenantCheckForPeopleSearch:"enableCalendarTenantCheckForPeopleSearch",enableCalendarV2ApiService:"enableCalendarV2ApiService",enableCalendarV2ApiServiceEnterprise:"enableCalendarV2ApiServiceEnterprise",enableCalendarV2EventForwarding:"enableCalendarV2EventForwarding",enableCalendarV2MeetingPrep:"enableCalendarV2MeetingPrep",enableCalendarV2PreReleaseFeatures:"enableCalendarV2PreReleaseFeatures",enableCalendarV2ShowAs:"enableCalendarV2ShowAs",enableCalendarViewFirstLoadOptimization:"enableCalendarViewFirstLoadOptimization",enableCallTranscriptPostMeetingSpeakerAttribution:"enableCallTranscriptPostMeetingSpeakerAttribution",enableCallTranscriptPostMeetingSpeakerAttributionEdit:"enableCallTranscriptPostMeetingSpeakerAttributionEdit",enableCallTranscriptPostMeetingOnlineSpeakerAttributionEdit:"enableCallTranscriptPostMeetingOnlineSpeakerAttributionEdit",enableEngagementReportPolicyCheck:"enableEngagementReportPolicyCheck",enableParticipantsFollowUpTileForWebinars:"enableParticipantsFollowUpTileForWebinars",enableEngagementReportPolicyTestHook:"enableEngagementReportPolicyTestHook",enableFluentCalendarSurface:"enableFluentCalendarSurface",enableLastDateRangeViewOnSurface:"enableLastDateRangeViewOnSurface",enableFreemiumAgendaView:"enableFreemiumAgendaView",enableThirdPartyCalendar:"enableThirdPartyCalendar",enableConnectedCalendarSettingsForT1:"enableConnectedCalendarSettingsForT1",enableBridgeGoogleCalendarAuthChange:"enableBridgeGoogleCalendarAuthChange",enableDesktopExternalBrowserGoogleAuth:"enableDesktopExternalBrowserGoogleAuth",thirdPartyCalendarRedirectUrl:"thirdPartyCalendarRedirectUrl",thirdPartyCalendarRequestSource:"thirdPartyCalendarRequestSource",addThirdPartyCalendarLearnMoreLink:"addThirdPartyCalendarLearnMoreLink",removeThirdPartyCalendarFromAllAccountsLearnMoreLink:"removeThirdPartyCalendarFromAllAccountsLearnMoreLink",enableCalendarEmbedEvents:"enableCalendarEmbedEvents",enableFreemiumCalendarShareViaGoogle:"enableFreemiumCalendarShareViaGoogle",enableFreemiumCalendarShareViaOutlook:"enableFreemiumCalendarShareViaOutlook",enableFreemiumMeetingInviteWithDate:"enableFreemiumMeetingInviteWithDate",enableGetCalendarEventsFromRest:"enableGetCalendarEventsFromRest",enableGetCalendarEventsV3:"enableGetCalendarEventsV3",enableGetCalendarEventsV3WithPagination:"enableGetCalendarEventsV3WithPagination",enableGroupEventsInGeneralChannelCalendar:"enableGroupEventsInGeneralChannelCalendar",enableInlineMeetingOptions:"enableInlineMeetingOptions",enableSharedChannelMeetingScheduling:"enableSharedChannelMeetingScheduling",enableMeetingArtifacts:"enableMeetingArtifacts",enableMeetingInfoDropdown:"enableMeetingInfoDropdown",enableMeetingOptionsButton:"enableMeetingOptionsButton",enableDebounceForSuggestedCalls:"enableDebounceForSuggestedCalls",maxAttendeeSchedulesToFetch:"maxAttendeeSchedulesToFetch",maxRoomListsToFetch:"maxRoomListsToFetch",maxRoomsInRoomListToFetch:"maxRoomListsToFetch",maxRoomsToFetch:"maxRoomListsToFetch",maxCourseMembersAndOwnersLimit:"maxCourseMembersAndOwnersLimit",meetingCodeConfiguration:"meetingCodeConfiguration",enableMeetNowFromCodePanelInCalendar:"enableMeetNowFromCodePanelInCalendar",enableMeetNowSharePanelInCalendar:"enableMeetNowSharePanelInCalendar",enableMultiWindowCalendarSchedulingForm:"enableMultiWindowCalendarSchedulingForm",enableMultiWindowCalendarSchedulingFormViewAndEdit:"enableMultiWindowCalendarSchedulingFormViewAndEdit",enableMultiWindowWebinarRegistration:"enableMultiWindowWebinarRegistration",enableMultiWindowUseProjectStyles:"enableMultiWindowUseProjectStyles",enableInstantMeeting:"enableInstantMeeting",enableOnlineAppointment:"enableOnlineAppointment",enablePeoplePickerForTflCalendar:"enablePeoplePickerForTflCalendar",hidePeoplePickerForTflCalendarEditMode:"hidePeoplePickerForTflCalendarEditMode",enableQuickCreateForFreemiumCalendar:"enableQuickCreateForFreemiumCalendar",enableRecordingPostMeeting:"enableRecordingPostMeeting",enableCachedRecordingPostMeeting:"enableCachedRecordingPostMeeting",enableRequireRegistrationInMeetingSchedulingForm:"enableRequireRegistrationInMeetingSchedulingForm",enableRockfallCalendarMeetingSchedulingEnhancements:"enableRockfallCalendarMeetingSchedulingEnhancements",enableSchedulingFormTrackingViewSummary:"enableSchedulingFormTrackingViewSummary",enableSchedulingWebinars:"enableSchedulingWebinars",enableSchedulingVirtualEvents:"enableSchedulingVirtualEvents",enableSFCloseRouteToCalendarSurface:"enableSFCloseRouteToCalendarSurface",enableSpeedyMeetings:"enableSpeedyMeetings",enableSchedulingFormEditModeInLMS:"enableSchedulingFormEditModeInLMS",enableUpdateUnknownAttendeeDetailsInDeeplink:"enableUpdateUnknownAttendeeDetailsInDeeplink",enableViewAndEditViaDeepLink:"enableViewAndEditViaDeepLink",enableWebinarPolicyCheck:"enableWebinarPolicyCheck",engagementReportPolicyTestHookOverride:"engagementReportPolicyTestHookOverride",freemiumCalendarShareViaGoogleAllowedDomains:"freemiumCalendarShareViaGoogleAllowedDomains",freemiumCalendarShareViaOutlookAllowedDomains:"freemiumCalendarShareViaOutlookAllowedDomains",isConsumerWindow:"isConsumerWindow",isLmsCourseCalendar:"isLmsCourseCalendar",enableSFBundlePrefetchInLMS:"enableSFBundlePrefetchInLMS",enableAddEntireClass:"enableAddEntireClass",isMeetingOnenoteAgendaEnabled:"isMeetingOnenoteAgendaEnabled",enableMeetingOnenoteAgendaBeforeDescription:"enableMeetingOnenoteAgendaBeforeDescription",isPrivateWebinarSupportedForGuest:"isPrivateWebinarSupportedForGuest",meetingOptionsUrl:"meetingOptionsUrl",noOfAttendeesForShowingTrackingViewSummary:"noOfAttendeesForShowingTrackingViewSummary",pageSizeForCalendarAgendaView:"pageSizeForCalendarAgendaView",transcriptVoiceRecognitionUrl:"transcriptVoiceRecognitionUrl",useWebviewForFluid:"useWebviewForFluid",enableFluidPendingDialog:"enableFluidPendingDialog",enableFluidOnCollabObject:"enableFluidOnCollabObject",enableFluidManualForking:"enableFluidManualForking",enableCalendarViewDescriptionCollapsible:"enableCalendarViewDescriptionCollapsible",whoCanRegisterPolicy:"whoCanRegisterPolicy",enableAttendanceReportTab:"enableAttendanceReportTab",enableAttendanceReportTabForChannel:"enableAttendanceReportTabForChannel",enableAttendanceReportTabForWebinars:"enableAttendanceReportTabForWebinars",enableEngagementReportTest:"enableEngagementReportTest",meetingAttendanceReportAppDefinitionId:"meetingAttendanceReportAppDefinitionId",meetingAttendanceReportTabUrl:"meetingAttendanceReportTabUrl",breakoutRoomsAppDefinitionId:"breakoutRoomsAppDefinitionId",breakoutRoomsAppTabUrl:"breakoutRoomsAppTabUrl",enableBreakoutRoomsPreMeetingAssignmentTab:"enableBreakoutRoomsPreMeetingAssignmentTab",enableBreakoutRoomsPreMeetingPreviewBranding:"enableBreakoutRoomsPreMeetingPreviewBranding",enableCalendarSchedulingFormInNewWindow:"enableCalendarSchedulingFormInNewWindow",enableCalendarSurfaceUseProjectStyles:"enableCalendarSurfaceUseProjectStyles",enableTabsInChannelMeeting:"enableTabsInChannelMeeting",enableTabsInWebinarMeeting:"enableTabsInWebinarMeeting",coachReportAppDefinitionId:"coachReportAppDefinitionId",coachReportTabUrl:"coachReportTabUrl",enableCoachReportTab:"enableCoachReportTab",enableCalendarSchedulingFormMultiSlot:"enableCalendarSchedulingFormMultiSlot",disableCalendarOptimisticClosingForm:"disableCalendarOptimisticClosingForm",calendarFluidDefaultOneNoteUrl:"calendarFluidDefaultOneNoteUrl",enableConnectedCalendar:"enableConnectedCalendar",enableConnectedCalendarSettingsSync:"enableConnectedCalendarSettingsSync",calendarSmartDeviceLayout:"calendarSmartDeviceLayout",connectedCalendarSettingsRefreshIntervalInMs:"connectedCalendarSettingsRefreshIntervalInMs",enableUseQSP:"enableUseQSP",enableSensitivityLabelInMeeting:"enableSensitivityLabelInMeeting",enableVariableWidthForDaysInCalendar:"enableVariableWidthForDaysInCalendar",enableMeetingRoleBasedTrackingView:"enableMeetingRoleBasedTrackingView",enableFluentSchedulingFormHeader:"enableFluentSchedulingFormHeader",connectedCalendarSettingsInLocalStorage:"connectedCalendarSettingsInLocalStorage",enableCalendarInterSlotEventSubscription:"enableCalendarInterSlotEventSubscription",enableSensitivityLabelSchedulingForm:"enableSensitivityLabelSchedulingForm",enableTranscriptTab:"enableTranscriptTab",transcriptTabUrl:"transcriptTabUrl",transcriptAppDefinitionId:"transcriptAppDefinitionId",enableCallDurationLimitedByPaywallUX:"enableCallDurationLimitedByPaywallUX",enableCallCapacityLimitedByPaywallUX:"enableCallCapacityLimitedByPaywallUX",enableChannelandTeamCdlV2Query:"enableChannelandTeamCdlV2Query",enableCalendarOpenMeetingChatInNewWindow:"enableCalendarOpenMeetingChatInNewWindow",enableCalendarSyncStateBanner:"enableCalendarSyncStateBanner"},S=t("94a755535d135f12850c"),p=t("4044e44e608d1baef794"),h=function(){function e(e,n,t,a){var l,o,s,g,d;this.settingsService=e,this.policySettingsStoreService=n,this.settingsCache={},this.itProSettings={isBroadcastSchedulingAllowed:!1,isPrivateMeetingSchedulingAllowed:!0,isChannelMeetingSchedulingAllowed:!0,allowEngagementReport:i.b.AllowEngagementReport.Disabled,allowMeetingRegistration:!1,whoCanRegister:i.b.WebinarRegisterPolicy.EveryoneInCompany,allowFluidCollaborate:!0},this.userPropertiesSettings={},this.userResourcesSettings={},this.breakoutRoomsPolicySettings={},this.settingsByCategoryMap=new Map([[i.a.Metadata,{getSettings:this.getMetadataSettings.bind(this),namespace:r.b}],[i.a.Test,{getSettings:this.getTestSettings.bind(this),namespace:r.b}],[i.a.Auth,{getSettings:this.getAuthSettings.bind(this),namespace:r.b}],[i.a.Telemetry,{getSettings:this.getTelemetrySettings.bind(this),namespace:r.b}],[i.a.Host,{getSettings:this.getHostSettings.bind(this),namespace:r.b}],[i.a.Localization,{getSettings:this.getLocalizationSettings.bind(this),namespace:r.b}],[i.a.Calendar,{getSettings:this.getCalendarSettings.bind(this),namespace:r.b}],[i.a.Platform,{getSettings:this.getPlatformSettings.bind(this),namespace:r.b}],[i.a.ChatList,{getSettings:this.getChatListSettings.bind(this),namespace:r.b}],[i.a.Shortcuts,{getSettings:this.getShortcutsSettings.bind(this),namespace:r.b}],[i.a.WebinarRegistration,{getSettings:this.getWebinarRegistrationSettings.bind(this),namespace:r.b}],[i.a.Sdk,{getSettings:this.getSDKSettings.bind(this),namespace:r.b}],[i.a.UserResources,{getSettings:this.getUserResourcesSettings.bind(this),namespace:r.b}],[i.a.CMDMeetingArtifactsService,{getSettings:this.getCMDMeetingArtifactsServiceSettings.bind(this),namespace:r.b}]]),this.userPropertiesSettings=null!==(l=null==n?void 0:n.getUserPropertiesSettings())&&void 0!==l?l:{},this.userResourcesSettings=null!==(s=null===(o=null==n?void 0:n.getUserResourcesSettings)||void 0===o?void 0:o.call(n))&&void 0!==s?s:{},this.breakoutRoomsPolicySettings=null===(d=null===(g=this.policySettingsStoreService)||void 0===g?void 0:g.getBreakoutRoomsPolicySettings)||void 0===d?void 0:d.call(g),this.logger=null==t?void 0:t.newLogger("CoreSettingsAdapter"),this.platformService=a}return e.prototype.get=function(e){return this.getSubject(e).value},e.prototype.getObservable=function(e){return this.getSubject(e).asObservable()},e.prototype.getSubject=function(e){var n=this;if(this.settingsCache[e])return this.settingsCache[e];var t=this.getSettingsForCategory(e),a=t.subscriptionNamespace,r=t.settings,l=new d.a(r||{});this.settingsCache[e]=l;e===i.a.Calendar&&this.policySettingsStoreService&&this.getCalendarPolicySettings(l),e===i.a.UserResources&&this.policySettingsStoreService&&this.getUserResourcesSettings(l);var o=new g.a("adapter-"+e+"-"+a,(function(){var t=n.getSettingsForCategory(e).settings;l.next(t)}),a);return this.settingsService.addListener(o),l},e.prototype.getSettingsForCategory=function(e){var n=this.settingsByCategoryMap.get(e),t=e.toString().toLowerCase(),a=n?n.getSettings():this.settingsService.getSettingsForNamespace(t)||{};return{subscriptionNamespace:n?n.namespace:t,settings:a}},e.prototype.getMetadataSettings=function(){var e,n=new c.a(this.settingsService).ring,t=this.settingsService.get(b.a.EnvironmentType,b.a.EnvironmentKey);return n&&(e={id:n.id||"general",friendlyName:n.friendlyName,shortName:n.shortName}),{ring:e,eTag:null==n?void 0:n.eTag,environment:t}},e.prototype.getTestSettings=function(){return{isRunningGlassjar:this.settingsService.getBoolean("isRunningGlassjar"),mtAuthResourceOverride:this.settingsService.getString("skypeAuthEndpointAddressV2"),mtOverrideBaseUrl:this.settingsService.getString("mtOverrideBaseURL"),lokiUrlOverride:this.settingsService.getString("lokiUrlOverride")}},e.prototype.getAuthSettings=function(){var e=this.settingsService.get("authConstants"),n=this.settingsService.get("requireSkypetokenForMT");if(e){var t=e.skypeAuthEndpointAddressV2,a=Object(S.isArray)(e.resources)&&e.resources.length>0&&e.resources[0];return{authzEndpointUrl:t,mtResource:a,authzResource:this.settingsService.get("isConsumerWindow")?e.consumerAuthzResource:a,requireSkypetokenForMT:n}}return{requireSkypetokenForMT:n}},e.prototype.getTelemetrySettings=function(){var e,n,t,a,i=this.settingsService.get("loggingConstants"),r=this.isScenarioMemorySnapshotEnabled();i&&(n=i.telemetryserver,t=null===(e=i.appTokens)||void 0===e?void 0:e.default,a=!!i.silent&&i.silent,this.settingsService.get(b.a.EnvironmentType,b.a.EnvironmentKey)!==l.a.Prod&&i.appTokens&&i.appTokens.test&&(t=i.appTokens.test));return{defaultToken:t,isSilent:a,telemetryServer:n,isScenarioMemorySnapshotEnabled:r}},e.prototype.getHostSettings=function(){var e=this.settingsService.getString("keyboardLayoutLanguage");return Object(a.__assign)({keyboardLayoutLanguage:e},this.breakoutRoomsPolicySettings)},e.prototype.getLocalizationSettings=function(){return{enableLocalizedKeyboardStrategies:this.settingsService.getBoolean("enableLocalizedKeyboardStrategies")}},e.prototype.getCMDMeetingArtifactsServiceSettings=function(){var e=this.settingsService.get("CMDMeetingArtifactsServiceSettings");return(null==e?void 0:e.enableCMDMeetingArtifactsService)?{enableCMDMeetingArtifactsService:!0,cmdMeetingArtifactsServiceEndpoint:e.cmdMeetingArtifactsServiceEndpoint,cmdMeetingArtifactsServiceResource:e.cmdMeetingArtifactsServiceResource,cmdMeetingArtifactsServiceForTranscript:e.cmdMeetingArtifactsServiceForTranscript,enableFallbackForTranscript:e.enableFallbackForTranscript,recoverableErrors:e.recoverableErrors}:{}},e.prototype.getCalendarSettings=function(){var e=this,n=Object(S.mapValues)(u,(function(n){return e.settingsService.get(n)})),t=this.itProSettings,i={allowChannelMeetingSchedulingPolicy:t.isChannelMeetingSchedulingAllowed,allowPrivateMeetingSchedulingPolicy:t.isPrivateMeetingSchedulingAllowed,allowBroadcastSchedulingPolicy:t.isBroadcastSchedulingAllowed,allowEngagementReportPolicy:t.allowEngagementReport,allowMeetingRegistrationPolicy:t.allowMeetingRegistration,whoCanRegisterPolicy:t.whoCanRegister,allowFluidCollaboratePolicy:t.allowFluidCollaborate};return Object(a.__assign)(Object(a.__assign)(Object(a.__assign)({},n),i),this.userPropertiesSettings)},e.prototype.getCalendarPolicySettings=function(e){var n=this,t=this.initializeCalendarPolicySettings(),r=t.isChannelMeetingSchedulingAllowedPromise,l=t.isPrivateMeetingSchedulingAllowedPromise,o=t.broadcastPolicySettingsPromise,s=t.allowMeetingRegistrationPromise,g=t.allowEngagementReportPromise,d=t.whoCanRegisterPromise,c=t.allowFluidCollaboratePromise;this.initializeBroadcastPolicySettingsPromise(o,e),Promise.all([r,l,g,s,d,c]).then((function(t){var i=Object(a.__read)(t,6),r=i[0],l=i[1],o=i[2],s=i[3],g=i[4],d=i[5];n.itProSettings.isChannelMeetingSchedulingAllowed=r,n.itProSettings.isPrivateMeetingSchedulingAllowed=l,n.itProSettings.allowEngagementReport=o,n.itProSettings.allowMeetingRegistration=s,n.itProSettings.whoCanRegister=g,n.itProSettings.allowFluidCollaborate=null==d||d;var c=n.getCalendarSettings();e.next(c)})).catch((function(){n.itProSettings.isChannelMeetingSchedulingAllowed=!1,n.itProSettings.isPrivateMeetingSchedulingAllowed=!1,n.itProSettings.allowEngagementReport=i.b.AllowEngagementReport.Disabled,n.itProSettings.allowMeetingRegistration=!1,n.itProSettings.whoCanRegister=i.b.WebinarRegisterPolicy.EveryoneInCompany,n.itProSettings.allowFluidCollaborate=!0;var t=n.getCalendarSettings();e.next(t)})),this.updateUserPropertiesSettings(e)},e.prototype.getUserResourcesSettings=function(e){var n,t,i=this;null===(t=null===(n=this.policySettingsStoreService)||void 0===n?void 0:n.waitAndGetUserResourcesSettings)||void 0===t||t.call(n).then((function(n){var t=n.licenseType;i.userResourcesSettings=Object(a.__assign)(Object(a.__assign)({},i.userResourcesSettings),{licenseType:t}),e.next(Object(a.__assign)(Object(a.__assign)({},i.userResourcesSettings),{licenseType:t}))})).catch((function(){var e;null===(e=i.logger)||void 0===e||e.error("getUserResourcesSettings: could not fetch user resource setttings"),i.userResourcesSettings=Object(a.__assign)(Object(a.__assign)({},i.userResourcesSettings),{licenseType:o.LicenseType.Unknown})}))},e.prototype.initializeCalendarPolicySettings=function(){return{isChannelMeetingSchedulingAllowedPromise:this.policySettingsStoreService.isChannelMeetingSchedulingAllowed(),isPrivateMeetingSchedulingAllowedPromise:this.policySettingsStoreService.isPrivateMeetingSchedulingAllowed(),broadcastPolicySettingsPromise:this.policySettingsStoreService.getBroadcastPolicySettings(),allowEngagementReportPromise:this.policySettingsStoreService.allowEngagementReport(),allowMeetingRegistrationPromise:this.policySettingsStoreService.allowMeetingRegistration(),whoCanRegisterPromise:this.policySettingsStoreService.whoCanRegister(),allowFluidCollaboratePromise:this.policySettingsStoreService.allowFluidCollaborate()}},e.prototype.initializeBroadcastPolicySettingsPromise=function(e,n){var t=this;e.then((function(e){t.itProSettings.isBroadcastSchedulingAllowed=e.allowBroadcastScheduling;var a=t.getCalendarSettings();n.next(a)})).catch((function(){}))},e.prototype.getPlatformSettings=function(){var e,n;return{sessionId:null===(e=this.platformService)||void 0===e?void 0:e.host.sessionId,useMacKeyboardLayout:(null===(n=this.platformService)||void 0===n?void 0:n.config.osPlatform)===s.c.Mac}},e.prototype.getChatListSettings=function(){return{enableBuddyList:this.settingsService.getBoolean(b.a.EnableBuddyList),hideSelectedChatLeftRailTypingIndicator:this.settingsService.getBoolean(b.a.HideSelectedChatLeftRailTypingIndicator)}},e.prototype.getShortcutsSettings=function(){var e=this.settingsService.get(b.a.ClientType,b.a.PlatformKey)===s.b.Desktop,n=this.settingsService.get(b.a.RingKey);return{applyDesktopKeymappingStrategy:e,enableDevShortcuts:!(!n||n.isPublic)}},e.prototype.isScenarioMemorySnapshotEnabled=function(){return this.settingsService.get(b.a.ClientType,b.a.PlatformKey)===s.b.Desktop&&this.settingsService.getBoolean(b.a.EnableMemoryDumpApi,b.a.DesktopSettingsKey)},e.prototype.getWebinarRegistrationSettings=function(){var e=this.settingsService.get("webinarSettings");return{webinarServiceEndpoint:e.serviceEndpoint,webinarServiceResource:e.serviceResource}},e.prototype.getSDKSettings=function(){var e=Object(p.a)().navigator.userAgent;return{sdkHostType:this.getHostType(e)}},e.prototype.getHostType=function(e){return-1!==(null==e?void 0:e.indexOf("Electron"))?i.b.SdkHostType.Desktop:i.b.SdkHostType.Web},e.prototype.updateUserPropertiesSettings=function(e){var n,t=this;null===(n=this.policySettingsStoreService)||void 0===n||n.waitAndGetUserPropertiesSettings().then((function(n){var i=n.autodiscoverSettings,r=n.isOnCloud,l=t.getCalendarSettings();Object(S.isEqual)(i,l.autodiscoverSettings)&&r===l.isOnCloud||(t.userPropertiesSettings={autodiscoverSettings:i,isOnCloud:r},e.next(Object(a.__assign)(Object(a.__assign)({},l),t.userPropertiesSettings)))})).catch((function(){}))},e}()}}]);